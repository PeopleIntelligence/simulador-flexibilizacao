
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulador de Descontos de Flexibilização</title>
    <script src="https://alcdn.msauth.net/browser/2.32.0/js/msal-browser.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f4f4f4;
        }
        h1 {
            color: #333;
        }
        #simulador {
            display: none;
            margin-top: 20px;
        }
        label, input {
            display: block;
            margin: 10px 0;
        }
        button {
            padding: 10px 15px;
            background-color: #0078D4;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #005A9E;
        }
    </style>
</head>
<body>
    <h1>Simulador de Descontos de Flexibilização</h1>
    <p>Para acessar o simulador, é necessário autenticar-se.</p>
    <button onclick="login()">Entrar</button>

    <div id="simulador">
        <h2>Cálculo de Descontos</h2>
        <label for="valor">Valor original:</label>
        <input type="number" id="valor" placeholder="Digite o valor original">
        <label for="desconto">Percentual de desconto (%):</label>
        <input type="number" id="desconto" placeholder="Digite o percentual de desconto">
        <button onclick="calcular()">Calcular</button>
        <p id="resultado"></p>
    </div>

    <script>
        const msalConfig = {
            auth: {
                clientId: "0c2709b6-cbe4-4e55-9967-f9619abddc54",
                authority: "https://login.microsoftonline.com/812a6bd0-5829-4196-b2be-d0580b7bd0cb",
                redirectUri: https://peopleintelligence.github.io/simulador-flexibilizacao/
        };

        const msalInstance = new msal.PublicClientApplication(msalConfig);

        function login() {
            msalInstance.loginPopup({
                scopes: ["user.read"]
            }).then(response => {
                alert("Bem-vindo, " + response.account.username);
                document.getElementById("simulador").style.display = "block";
            }).catch(error => {
                alert("Erro na autenticação: " + error);
            });
        }

        function calcular() {
            const valor = parseFloat(document.getElementById("valor").value);
            const desconto = parseFloat(document.getElementById("desconto").value);
            if (isNaN(valor) || isNaN(desconto)) {
                alert("Preencha os campos corretamente.");
                return;
            }
            const valorFinal = valor - (valor * desconto / 100);
            document.getElementById("resultado").innerText = "Valor com desconto: R$ " + valorFinal.toFixed(2);
        }
    </script>
</body>
</html>
